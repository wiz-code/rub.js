/*! For license information please see rub.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Rub=e():t.Rub=e()}(self,(function(){return function(){var t={"./node_modules/javascript-state-machine/lib/state-machine.js":function(t){var e;e=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";t.exports=function(t,e){var n,i,s;for(n=1;n<arguments.length;n++)for(s in i=arguments[n])i.hasOwnProperty(s)&&(t[s]=i[s]);return t}},function(t,e,n){"use strict";var i=n(0);t.exports={build:function(t,e){var n,s,r,o=e.plugins;for(n=0,s=o.length;n<s;n++)(r=o[n]).methods&&i(t,r.methods),r.properties&&Object.defineProperties(t,r.properties)},hook:function(t,e,n){var i,s,r,o,a=t.config.plugins,c=[t.context];for(n&&(c=c.concat(n)),i=0,s=a.length;i<s;i++)o=a[i],(r=a[i][e])&&r.apply(o,c)}}},function(t,e,n){"use strict";function i(t){if(0===t.length)return t;var e,n,i=t.split(/[_-]/);if(1===i.length&&i[0][0].toLowerCase()===i[0][0])return t;for(n=i[0].toLowerCase(),e=1;e<i.length;e++)n=n+i[e].charAt(0).toUpperCase()+i[e].substring(1).toLowerCase();return n}i.prepended=function(t,e){return t+(e=i(e))[0].toUpperCase()+e.substring(1)},t.exports=i},function(t,e,n){"use strict";var i=n(0),s=n(2);function r(t,e){t=t||{},this.options=t,this.defaults=e.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(t.init),this.data=this.configureData(t.data),this.methods=this.configureMethods(t.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(t.transitions||[]),this.plugins=this.configurePlugins(t.plugins,e.plugin)}i(r.prototype,{addState:function(t){this.map[t]||(this.states.push(t),this.addStateLifecycleNames(t),this.map[t]={})},addStateLifecycleNames:function(t){this.lifecycle.onEnter[t]=s.prepended("onEnter",t),this.lifecycle.onLeave[t]=s.prepended("onLeave",t),this.lifecycle.on[t]=s.prepended("on",t)},addTransition:function(t){this.transitions.indexOf(t)<0&&(this.transitions.push(t),this.addTransitionLifecycleNames(t))},addTransitionLifecycleNames:function(t){this.lifecycle.onBefore[t]=s.prepended("onBefore",t),this.lifecycle.onAfter[t]=s.prepended("onAfter",t),this.lifecycle.on[t]=s.prepended("on",t)},mapTransition:function(t){var e=t.name,n=t.from,i=t.to;return this.addState(n),"function"!=typeof i&&this.addState(i),this.addTransition(e),this.map[n][e]=t,t},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(t){return"string"==typeof t?this.mapTransition(i({},this.defaults.init,{to:t,active:!0})):"object"==typeof t?this.mapTransition(i({},this.defaults.init,t,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(t){return"function"==typeof t?t:"object"==typeof t?function(){return t}:function(){return{}}},configureMethods:function(t){return t||{}},configurePlugins:function(t,e){var n,i,s;for(n=0,i=(t=t||[]).length;n<i;n++)"function"==typeof(s=t[n])&&(t[n]=s=s()),s.configure&&s.configure(this);return t},configureTransitions:function(t){var e,n,i,s,r,o=this.defaults.wildcard;for(n=0;n<t.length;n++)for(i=t[n],s=Array.isArray(i.from)?i.from:[i.from||o],r=i.to||o,e=0;e<s.length;e++)this.mapTransition({name:i.name,from:s[e],to:r})},transitionFor:function(t,e){var n=this.defaults.wildcard;return this.map[t][e]||this.map[n][e]},transitionsFor:function(t){var e=this.defaults.wildcard;return Object.keys(this.map[t]).concat(Object.keys(this.map[e]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),t.exports=r},function(t,e,n){var i=n(0),s=n(6),r=n(1),o=[null,[]];function a(t,e){this.context=t,this.config=e,this.state=e.init.from,this.observers=[t]}i(a.prototype,{init:function(t){if(i(this.context,this.config.data.apply(this.context,t)),r.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(t){return Array.isArray(t)?t.indexOf(this.state)>=0:this.state===t},isPending:function(){return this.pending},can:function(t){return!this.isPending()&&!!this.seek(t)},cannot:function(t){return!this.can(t)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(t,e){var n=this.config.defaults.wildcard,i=this.config.transitionFor(this.state,t),s=i&&i.to;return"function"==typeof s?s.apply(this.context,e):s===n?this.state:s},fire:function(t,e){return this.transit(t,this.state,this.seek(t,e),e)},transit:function(t,e,n,i){var s=this.config.lifecycle,r=this.config.options.observeUnchangedState||e!==n;return n?this.isPending()?this.context.onPendingTransition(t,e,n):(this.config.addState(n),this.beginTransit(),i.unshift({transition:t,from:e,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(s.onBefore.transition),this.observersForEvent(s.onBefore[t]),r?this.observersForEvent(s.onLeave.state):o,r?this.observersForEvent(s.onLeave[e]):o,this.observersForEvent(s.on.transition),r?["doTransit",[this]]:o,r?this.observersForEvent(s.onEnter.state):o,r?this.observersForEvent(s.onEnter[n]):o,r?this.observersForEvent(s.on[n]):o,this.observersForEvent(s.onAfter.transition),this.observersForEvent(s.onAfter[t]),this.observersForEvent(s.on[t])],i)):this.context.onInvalidTransition(t,e,n)},beginTransit:function(){this.pending=!0},endTransit:function(t){return this.pending=!1,t},failTransit:function(t){throw this.pending=!1,t},doTransit:function(t){this.state=t.to},observe:function(t){if(2===t.length){var e={};e[t[0]]=t[1],this.observers.push(e)}else this.observers.push(t[0])},observersForEvent:function(t){for(var e,n=0,i=this.observers.length,s=[];n<i;n++)(e=this.observers[n])[t]&&s.push(e);return[t,s,!0]},observeEvents:function(t,e,n,i){if(0===t.length)return this.endTransit(void 0===i||i);var s=t[0][0],o=t[0][1],a=t[0][2];if(e[0].event=s,s&&a&&s!==n&&r.hook(this,"lifecycle",e),0===o.length)return t.shift(),this.observeEvents(t,e,s,i);var c=o.shift(),h=c[s].apply(c,e);return h&&"function"==typeof h.then?h.then(this.observeEvents.bind(this,t,e,s)).catch(this.failTransit.bind(this)):!1===h?this.endTransit(!1):this.observeEvents(t,e,s,h)},onInvalidTransition:function(t,e,n){throw new s("transition is invalid in current state",t,e,n,this.state)},onPendingTransition:function(t,e,n){throw new s("transition is invalid while previous transition is still in progress",t,e,n,this.state)}}),t.exports=a},function(t,e,n){"use strict";var i=n(0),s=n(2),r=n(1),o=n(3),a=n(4),c={is:function(t){return this._fsm.is(t)},can:function(t){return this._fsm.can(t)},cannot:function(t){return this._fsm.cannot(t)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(t,e,n){return this._fsm.onInvalidTransition(t,e,n)},onPendingTransition:function(t,e,n){return this._fsm.onPendingTransition(t,e,n)}},h={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(t){throw Error("use transitions to change state")}}};function u(t){return d(this||{},t)}function d(t,e){return l(t,new o(e,u)),t._fsm(),t}function l(t,e){if("object"!=typeof t||Array.isArray(t))throw Error("StateMachine can only be applied to objects");r.build(t,e),Object.defineProperties(t,h),i(t,c),i(t,e.methods),e.allTransitions().forEach((function(e){t[s(e)]=function(){return this._fsm.fire(e,[].slice.call(arguments))}})),t._fsm=function(){this._fsm=new a(this,e),this._fsm.init(arguments)}}u.version="3.0.1",u.factory=function(){var t,e;"function"==typeof arguments[0]?(t=arguments[0],e=arguments[1]||{}):(t=function(){this._fsm.apply(this,arguments)},e=arguments[0]||{});var n=new o(e,u);return l(t.prototype,n),t.prototype._fsm.config=n,t},u.apply=d,u.defaults={wildcard:"*",init:{name:"init",from:"none"}},t.exports=u},function(t,e,n){"use strict";t.exports=function(t,e,n,i,s){this.message=t,this.transition=e,this.from=n,this.to=i,this.current=s}}])},t.exports=e()},"./src/dataset.ts":function(t,e,n){"use strict";n.r(e);e.default={pointer:{initial:"created",events:[{name:"initialize",from:"created",to:"idling"},{name:"start",from:"idling",to:"running"},{name:"end",from:"running",to:"idling"}]},target:{initial:"created",events:[{name:"initialize",from:"created",to:"inactive"},{name:"activate",from:"inactive",to:"active"},{name:"inactivate",from:"active",to:"inactive"}]},media:{initial:"created",events:[{name:"initialize",from:"created",to:"initialized"},{name:"ready",from:"initialized",to:"idling"},{name:"reset",from:["idling","error"],to:"initialized"},{name:"start",from:"idling",to:"running"},{name:"stop",from:"running",to:"idling"},{name:"pause",from:"running",to:"pending"},{name:"resume",from:"pending",to:"running"},{name:"quit",from:"pending",to:"idling"},{name:"abort",from:"*",to:"error"}]}}},"./src/event-type.ts":function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});class i{}i.MouseDown="mousedown",i.MouseUp="mouseup",i.MouseMove="mousemove",i.MouseEnter="mouseenter",i.MouseLeave="mouseleave",i.Click="click",i.DoubleClick="dblclick",i.ContextMenu="contextmenu",i.TouchStart="touchstart",i.TouchEnd="touchend",i.TouchMove="touchmove",i.TouchCancel="touchcancel"},"./src/index.ts":function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var i=n("./node_modules/javascript-state-machine/lib/state-machine.js"),s=n("./src/mouse-handler.ts"),r=n("./src/touch-handler.ts"),o=n("./src/recorder.ts"),a=n("./src/dataset.ts");const{abs:c,max:h}=Math;let u=0;class d{constructor(t,e){this.container=t,this.bounds=new Map,this.inputId=0,this.outputId=0,this.loopCallbacks=[],this.offset=0,this.t0=0,this.x0=0,this.y0=0,this.id=(u+=1,u);const n=this.container.querySelector(".rb-bounds"),d=Array.from(n.children);for(let t=0,e=d.length;t<e;t+=1){const e=d[t],n=e.dataset.boundsType;if(null==n)throw new Error("cannot find identified class name");const i=e.childElementCount>0?Array.from(e.children):[e],a="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?r.default:s.default;this.bounds.set(n,{recorder:new o.default(i),event:new a(i)})}const[l]=Array.from(this.bounds.keys()),f=this.bounds.get(l);this.currentBoundsType=l,this.recorder=f.recorder,this.event=f.event,this.event.addListeners(this.container),this.media=i.create(a.default.media),null!=e&&this.addLoopCallback(e),this.output=()=>{if(this.loopCallbacks.length>0){const t=this.recorder.getFrames();for(let e=0,n=this.loopCallbacks.length;e<n;e+=1)this.loopCallbacks[e](t)}this.outputId=requestAnimationFrame(this.output)},this.input=t=>{let e=0,n=-1;if(this.event.isAttached()){const t=this.event.getEventTrackCount();if(t>this.offset){const n=this.event.getEventTrack(),[i,s,r]=Array.from(n);if(this.t0>0){const t=i-this.t0,n=s-this.x0,o=r-this.y0;t>4&&(e=function(t,e,n){return t>0?h(c(e/t),c(n/t)):0}(t,n,o))}this.t0=i,this.x0=s,this.y0=r,this.offset=t}n=this.event.getActiveTargetIndex()}this.recorder.update(t,e,n),this.inputId=requestAnimationFrame(this.input)}}getId(){return this.id}startLoop(){this.inputId=requestAnimationFrame(this.input),this.outputId=requestAnimationFrame(this.output)}stopLoop(){this.recorder.suspend(),cancelAnimationFrame(this.inputId),cancelAnimationFrame(this.outputId)}clearLoop(){this.t0=0,this.x0=0,this.y0=0,this.offset=0,this.resetBoundsType()}getCurrentBoundsType(){return this.currentBoundsType}setBoundsType(t){const e=this.bounds.get(t);if(null==e)throw new Error("this is assigned undefined");this.currentBoundsType=t,this.resetBoundsType(),this.removeEventHandler(),this.recorder=e.recorder,this.event=e.event,this.setEventHandler()}setMediaCallback(t){Object.assign(this.media,t)}addLoopCallback(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;e+=1)this.loopCallbacks.push(t[e].bind(this));else this.loopCallbacks.push(t.bind(this))}clearLoopCallback(){this.loopCallbacks.length=0}setEventHandler(){this.event.isAttached()||this.event.addListeners(this.container)}removeEventHandler(){this.event.isAttached()&&this.event.removeListeners(this.container)}resetBoundsType(){this.event.clearEventTracks(),this.recorder.resetFrames()}}},"./src/mouse-handler.ts":function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var i=n("./src/pointer-handler.ts"),s=n("./src/event-type.ts");const{documentElement:r}=document;class o extends i.default{constructor(t){super(t),this.listener={start:o.start.bind(this,this.state),end:o.end.bind(this,this.state),move:o.move.bind(this,this.state),activate:o.activate.bind(this),inactivate:o.inactivate.bind(this)}}addListeners(t){if(null!=this.listener){this.attached=!0,t.addEventListener(s.default.MouseDown,this.listener.start,!1),t.addEventListener(s.default.MouseMove,this.listener.move,!1),t.addEventListener(s.default.MouseUp,this.listener.end,!1);for(let t=0,e=this.targets.length;t<e;t+=1){const e=this.targets[t];e.el.addEventListener(s.default.MouseEnter,this.listener.activate,!1),e.el.addEventListener(s.default.MouseLeave,this.listener.inactivate,!1)}}}removeListeners(t){if(null!=this.listener){this.attached=!1,t.removeEventListener(s.default.MouseDown,this.listener.start,!1),t.removeEventListener(s.default.MouseMove,this.listener.move,!1),t.removeEventListener(s.default.MouseUp,this.listener.end,!1);for(let t=0,e=this.targets.length;t<e;t+=1){const e=this.targets[t];e.el.removeEventListener(s.default.MouseEnter,this.listener.activate,!1),e.el.removeEventListener(s.default.MouseLeave,this.listener.inactivate,!1)}}}static start(t,e){if(!(e instanceof MouseEvent))return;if("idling"!==t.current)return;t.start();const n=performance.now(),i=r.getBoundingClientRect(),s=e.clientX-i.left,o=e.clientY-i.top;this.coords.addTrack([n,s,o])}static move(t,e){if(!(e instanceof MouseEvent))return;if("running"!==t.current)return;const n=performance.now(),i=r.getBoundingClientRect(),s=e.clientX-i.left,o=e.clientY-i.top;this.coords.addTrack([n,s,o])}static end(t,e){if(!(e instanceof MouseEvent))return;if("running"!==t.current)return;const n=performance.now(),i=r.getBoundingClientRect(),s=e.clientX-i.left,o=e.clientY-i.top;this.coords.addTrack([n,s,o]),t.end()}static activate(t){const e=this.findTargetIndex((e=>e.el===t.target)),n=this.targets[e];null!=n&&"inactive"===n.state.current&&n.state.activate()}static inactivate(t){const e=this.findTargetIndex((e=>e.el===t.target)),n=this.targets[e];null!=n&&"active"===n.state.current&&n.state.inactivate()}}},"./src/pointer-handler.ts":function(t,e,n){"use strict";n.r(e);var i=n("./node_modules/javascript-state-machine/lib/state-machine.js"),s=n("./src/target.ts"),r=n("./src/tracker.ts"),o=n("./src/dataset.ts");const a=t=>t.isActive();e.default=class{constructor(t){this.attached=!1,this.targets=t.map((t=>{const e=new s.default(t);return e.state.initialize(),e})),this.state=i.StateMachine.create(o.default.pointer),this.state.initialize(),this.coords=new r.default(9e5,3),this.listener={}}findTargetIndex(t){let e=-1;for(let n=0,i=this.targets.length;n<i;n+=1){if(t(this.targets[n])){e=n;break}}return e}getActiveTargetIndex(){return this.findTargetIndex(a)}getEventTrackCount(){return this.coords.count}getEventTrack(){return this.coords.getTrack()}clearEventTracks(){return this.coords.clearTracks()}isAttached(){return this.attached}}},"./src/recorder.ts":function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var i=n("./src/tracker.ts");const s=1e3/60,{round:r}=Math;class o{constructor(t){this.frames=0,this.started=!1,this.elapsedTime=0,this.lastTime=0;const e=t.length;this.blockSize=e+1,this.record=new Map([["live",this.createRecord()],["playback",this.createRecord()],["external",this.createRecord()]]),this.shiftedFrames={live:0,playback:0,external:0},this.template=Array(e+1).fill(0)}update(t,e,n){const i=this.template.slice(0),o=this.record.get("live");if(this.started){this.elapsedTime+=t-this.lastTime,this.lastTime=t;const a=r(this.elapsedTime/s);a>this.frames&&(this.frames=a,i[0]=this.frames,n>-1&&(i[n+1]=e),o.setTrack(i,this.frames))}else this.started=!0,this.lastTime=t,i[0]=this.frames,o.setTrack(i,this.frames)}createRecord(){const t=new i.default(216e3,this.blockSize);return t.writeFrames(),t}getElapsedTime(){return this.elapsedTime}getFrames(){return this.frames}setFrames(t){const e=this.template.slice(0);e[0]=t,this.record.get("live").setTrack(e,t);const n=(t-this.frames)*s;this.elapsedTime+=n,this.frames=t}suspend(){this.started=!1}resetFrames(){this.frames=0,this.started=!1,this.lastTime=0,this.elapsedTime=0}clearRecord(t="live"){this.record.get(t).writeFrames()}getRecordCount(t="live"){return this.record.get(t).count}getVelocities(t=-1,e="live"){const n=t+this.shiftedFrames[e],i=this.record.get(e).getTrack(n);return Array.from(i.subarray(1))}getRecord(t="live"){const e=this.record.get(t);return e.getTrack(0,e.size)}setRecord(t,e="live"){this.record.get(e).setTrack(t)}addData(t){this.record.get("live").addTrack(t)}getData(t=-1,e=1,n="live"){const i=t+this.shiftedFrames[n];return this.record.get(n).getTrack(i,e)}setData(t,e=0,n="live"){this.record.get(n).setTrack(t,e)}setShiftedFrames(t,e="live"){this.shiftedFrames[e]=t}}},"./src/target.ts":function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var i=n("./node_modules/javascript-state-machine/lib/state-machine.js"),s=n("./src/dataset.ts");class r{constructor(t){this.el=t,this.state=i.StateMachine.create(s.default.target)}isActive(){return"active"===this.state.current}}},"./src/touch-handler.ts":function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var i=n("./src/pointer-handler.ts"),s=n("./src/event-type.ts");const{documentElement:r}=document;class o extends i.default{constructor(t){super(t),this.listener={start:o.start.bind(this,this.state),move:o.move.bind(this,this.state),end:o.end.bind(this,this.state)}}addListeners(t){null!=this.listener&&(this.attached||(this.attached=!0,t.addEventListener(s.default.TouchStart,this.listener.start,!1),t.addEventListener(s.default.TouchMove,this.listener.move,!1),t.addEventListener(s.default.TouchEnd,this.listener.end,!1),t.addEventListener(s.default.TouchCancel,this.listener.end,!1)))}removeListeners(t){null!=this.listener&&this.attached&&(this.attached=!1,t.removeEventListener(s.default.TouchStart,this.listener.start,!1),t.removeEventListener(s.default.TouchMove,this.listener.move,!1),t.removeEventListener(s.default.TouchEnd,this.listener.end,!1),t.removeEventListener(s.default.TouchCancel,this.listener.end,!1))}static start(t,e){if(!(e instanceof TouchEvent))return;if("idling"!==t.current)return;t.start();const n=performance.now(),i=r.getBoundingClientRect(),s=Array.from(e.changedTouches)[0],o=s.clientX-i.left,a=s.clientY-i.top;this.coords.addTrack([n,o,a])}static move(t,e){if(!(e instanceof TouchEvent))return;if("running"!==t.current)return;const n=performance.now(),i=r.getBoundingClientRect(),s=Array.from(e.changedTouches)[0],o=s.clientX,a=s.clientY,c=o-i.left,h=a-i.top;for(let t=0,e=this.targets.length;t<e;t+=1){const e=this.targets[t],n=e.el.getBoundingClientRect();o>=n.left&&o<=n.left+n.width&&a>=n.top&&a<=n.top+n.height?"active"!==e.state.current&&e.state.activate():"inactive"!==e.state.current&&e.state.inactivate()}this.coords.addTrack([n,c,h])}static end(t,e){if(!(e instanceof TouchEvent))return;if("running"!==t.current)return;const n=performance.now(),i=r.getBoundingClientRect(),s=Array.from(e.changedTouches)[0],o=s.clientX-i.left,a=s.clientY-i.top;this.coords.addTrack([n,o,a]),t.end()}}},"./src/tracker.ts":function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return s}});const{floor:i}=Math;class s{constructor(t,e){this.end=0,this.blockSize=e;try{this.tracks=new Float32Array(t*this.blockSize)}catch(t){throw new Error("cannot allocate memory")}if(!new Uint8Array(new Uint16Array([255]).buffer)[0])throw new Error("required little endian system")}get count(){return i(this.end/this.blockSize)}get size(){return i(this.tracks.length/this.blockSize)}setTrack(t,e=0){if(t.length%this.blockSize!=0)throw new Error("Track size not matched");const n=e*this.blockSize;this.tracks.set(t,n),n+t.length>=this.end&&(this.end=n+t.length)}addTrack(t){if(t.length%this.blockSize!=0)throw new Error("Track size not matched");this.tracks.set(t,this.end),this.end+=t.length}getTrack(t=-1,e=1){const n=t<0?(this.count+t)*this.blockSize:t*this.blockSize,i=n+e*this.blockSize;return this.tracks.subarray(n,i)}clearTracks(){this.end=0,this.tracks.fill(0)}writeFrames(){this.clearTracks();for(let t=0,e=this.tracks.length,n=0;t<e;t+=1)t%this.blockSize==0&&(this.tracks.set([n],t),n+=1)}static create(t,e){return new s(t,e)}}}},e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}return n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./src/index.ts")}()}));
//# sourceMappingURL=rub.min.js.map